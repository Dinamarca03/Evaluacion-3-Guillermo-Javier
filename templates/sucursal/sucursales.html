{% extends "sistema/base.html" %}

{% block title %}
Bambini
{% endblock %}

{% block contenido %}
  <h1>Sucursales</h1>

  {% if sucursales %}
    <div class="container text-center">
      <div class="table-responsive bg-light mb-3">
        <table id="example" class="table table-secondary display" style="width:100%">
          <thead>
            <tr>
              <th scope="col">ID</th>
              <th scope="col">nombre sucursal</th>
              <th scope="col">Direccion</th>
              <th scope="col">numero de telefono</th>
              <th scope="col">Acción</th>
            </tr>
          </thead>
          <tbody>
            {% for sucursal in sucursales %}
              <tr>
                <td scope="row">{{ sucursal.id }}</td>
                <td scope="row">{{ sucursal.nombre_sucursal }}</td>
                <td scope="row">{{ sucursal.direccion }}</td>
                <td scope="row">{{ sucursal.numero_telefono }}</td>
         
                <td>
                  <a href="{% url 'editarSucursales' id=sucursal.id %}" class="btn btn-warning">Editar</a> 
                  <a href="#" class="btn btn-danger" data-toggle="modal" data-target="#confirmacionBorradoModal{{ sucursal.id }}">Borrar</a>
                </td>
              </tr>
              
              <!-- Cuadro de diálogo modal -->
              <div class="modal fade" id="confirmacionBorradoModal{{ sucursal.id }}" tabindex="-1" role="dialog" aria-labelledby="confirmacionBorradoModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="confirmacionBorradoModalLabel">Confirmación de Borrado</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
                      <p>¿Estás seguro de que deseas borrar esta sucursal?</p>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                      <a href="{% url 'borrarSucursales' id=sucursal.id %}" type="button" class="btn btn-danger" id="confirmarBorrado">Borrar</a>
                    </div>
                  </div>
                </div>
              </div>
              
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  {% else %}
    <p>No hay sucursales disponibles.</p>
  {% endif %}
  
  <a href="{% url 'ingresarSucursales' %}" class="btn btn-primary">Ingresar sucursales</a>
{% endblock %}
